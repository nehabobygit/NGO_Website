(function(g){var window=this;'use strict';var zS9=function(e,a){if(!Number.isFinite(e))return String(e);e=String(e);var r=e.indexOf(".");r===-1&&(r=e.length);var P=e[0]==="-"?"-":"";P&&(e=e.substring(1));return P+(0,g.YG9)("0",Math.max(0,a-r))+e},Nc8=function(){return{K:"svg",
J:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{K:"path",J:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"}}]}},xfl=function(){return{K:"svg",
J:{fill:"#fff",height:"24px",viewBox:"0 0 24 24",width:"24px"},V:[{K:"path",J:{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}}]}},H65=function(e){typeof e==="number"?(this.date=IeG(e,0,1),ZA(this,1)):g.hw(e)?(this.date=IeG(e.getFullYear(),e.getMonth(),e.getDate()),ZA(this,e.getDate())):(this.date=new Date(g.f5()),e=this.date.getDate(),
this.date.setHours(0),this.date.setMinutes(0),this.date.setSeconds(0),this.date.setMilliseconds(0),ZA(this,e))},IeG=function(e,a,r){a=new Date(e,a,r);
e>=0&&e<100&&a.setFullYear(a.getFullYear()-1900);return a},ZA=function(e,a){e.getDate()!=a&&e.date.setUTCHours(e.date.getUTCHours()+(e.getDate()<a?1:-1))},OB=function(e,a){g.P8.call(this,e,{K:"div",
U:"ytp-reminder-menu",J:{role:"menu",tabindex:"-1"},V:[{K:"div",U:"ytp-reminder-menu-contents",V:[{K:"div",U:"ytp-reminder-menu-items"}]}]},100,!0);this.S=a;this.B=[];this.menuPopupRenderer=void 0;this.items=this.BW("ytp-reminder-menu-items");this.hide()},qnw=function(e){return(e.menuPopupRenderer&&e.menuPopupRenderer.items||[]).reduce(function(a,r){r&&r.menuServiceItemRenderer&&a.push(r.menuServiceItemRenderer);
return a},[])},kv=function(e){g.v.call(this,{K:"div",
V:[{K:"button",WW:["ytp-offline-slate-button","ytp-button"],V:[{K:"div",U:"ytp-offline-slate-button-icon",S1:"{{icon}}"},{K:"div",U:"ytp-offline-slate-button-text",S1:"{{text}}"}]}]});this.W=e;this.upcomingEventReminderButtonRenderer=this.toggleButtonRenderer=null;this.T=void 0;this.L=this.S=null;(this.Z=this.BW("ytp-offline-slate-button"))&&this.j(this.Z,"click",this.D);this.hide()},RSZ=function(e,a,r){!e.toggleButtonRenderer&&a&&a.toggleButtonRenderer?e.toggleButtonRenderer=a.toggleButtonRenderer:
a&&a.toggleButtonRenderer||(e.toggleButtonRenderer=null);
!e.upcomingEventReminderButtonRenderer&&r&&g.H(r,v3w)?e.upcomingEventReminderButtonRenderer=g.H(r,v3w):r&&g.H(r,v3w)||(e.upcomingEventReminderButtonRenderer=null);dD(e)},dD=function(e){if(e.toggleButtonRenderer){var a=e.toggleButtonRenderer;
if(a.isToggled){var r=a.toggledText?g.yd(a.toggledText):"";e.update({text:r,icon:SnG(a.toggledIcon)})}else r=a.defaultText?g.yd(a.defaultText):"",e.update({text:r,icon:SnG(a.defaultIcon)});e.show()}else e.upcomingEventReminderButtonRenderer?(a=sJN(e))?(r=a.text?g.yd(a.text):"",e.update({text:r,icon:SnG(a.icon)}),e.show()):e.hide():e.hide()},F7M=function(e,a,r){e.L||(e.L=new g.Rr(e.W.G().vI));
var P={context:g.nu(e.L.config_||g.cN())};g.bs()&&(P.context.clientScreenNonce=g.bs());P.params=r;g.SA(e.L,a,P,{timeout:5E3,onSuccess:function(){e.upcomingEventReminderButtonRenderer&&e.T&&(e.upcomingEventReminderButtonRenderer.currentState=e.T,e.T=void 0)},
onError:function(){mfl(e)},
onTimeout:function(){mfl(e)}})},mfl=function(e){e.toggleButtonRenderer?(e.toggleButtonRenderer.isToggled=!e.toggleButtonRenderer.isToggled,dD(e)):e.upcomingEventReminderButtonRenderer&&(e.T=void 0,dD(e))},SnG=function(e){if(!e)return null;
switch(e.iconType){case "NOTIFICATIONS":return Nc8();case "NOTIFICATIONS_NONE":return xfl();case "NOTIFICATIONS_ACTIVE":return g.bv();default:return null}},sJN=function(e){if(!e.upcomingEventReminderButtonRenderer)return null;
var a=e.T||e.upcomingEventReminderButtonRenderer.currentState;e=g.Z(e.upcomingEventReminderButtonRenderer.states||[]);for(var r=e.next();!r.done;r=e.next())if((r=g.H(r.value,Mea))&&r.state===a&&r.button&&g.H(r.button,g.nR))return g.H(r.button,g.nR);return null},jJB=function(e){g.v.call(this,{K:"div",
U:"ytp-offline-slate",V:[{K:"div",U:"ytp-offline-slate-background"},{K:"div",U:"ytp-offline-slate-bar",V:[{K:"span",U:"ytp-offline-slate-icon",V:[{K:"svg",J:{fill:"#fff",height:"100%",viewBox:"0 0 24 24",width:"100%"},V:[{K:"path",J:{d:"M16.94 6.91l-1.41 1.45c.9.94 1.46 2.22 1.46 3.64s-.56 2.71-1.46 3.64l1.41 1.45c1.27-1.31 2.05-3.11 2.05-5.09s-.78-3.79-2.05-5.09zM19.77 4l-1.41 1.45C19.98 7.13 21 9.44 21 12.01c0 2.57-1.01 4.88-2.64 6.54l1.4 1.45c2.01-2.04 3.24-4.87 3.24-7.99 0-3.13-1.23-5.96-3.23-8.01zM7.06 6.91c-1.27 1.3-2.05 3.1-2.05 5.09s.78 3.79 2.05 5.09l1.41-1.45c-.9-.94-1.46-2.22-1.46-3.64s.56-2.71 1.46-3.64L7.06 6.91zM5.64 5.45L4.24 4C2.23 6.04 1 8.87 1 11.99c0 3.13 1.23 5.96 3.23 8.01l1.41-1.45C4.02 16.87 3 14.56 3 11.99s1.01-4.88 2.64-6.54z"}},
{K:"circle",J:{cx:"12",cy:"12",r:"3"}}]}]},{K:"span",U:"ytp-offline-slate-messages",V:[{K:"div",U:"ytp-offline-slate-main-text",J:{"aria-label":"{{label}}"},S1:"{{mainText}}"},{K:"div",U:"ytp-offline-slate-subtitle-text",S1:"{{subtitleText}}"}]},{K:"span",U:"ytp-offline-slate-buttons"}]},{K:"button",WW:["ytp-offline-slate-close-button","ytp-button"],V:[g.A_()]},{K:"button",WW:["ytp-offline-slate-open-button","ytp-button"],V:[g.fB()]}]});var a=this;this.api=e;this.S=this.T=null;this.background=this.BW("ytp-offline-slate-background");
this.B=this.BW("ytp-offline-slate-bar");this.Z=new g.vP(function(){g.rr(a.B,"ytp-offline-slate-bar-fade")},15E3);
this.D=!1;this.L=new g.vP(function(){g.rr(a.element,"ytp-offline-slate-collapsed")},15E3);
g.x(this,this.L);g.x(this,this.Z);this.countdownTimer=new g.vP(this.HX,1E3,this);this.j(e,"presentingplayerstatechange",this.SA);this.j(e,"livestatedata",this.zQ);this.j(this.BW("ytp-offline-slate-close-button"),"click",function(){g.rr(a.element,"ytp-offline-slate-collapsed")});
this.j(this.BW("ytp-offline-slate-open-button"),"click",function(){g.BD(a.element,"ytp-offline-slate-collapsed")});
this.hide();e=this.getVideoData();e.getPlayerResponse()&&(e=e.getPlayerResponse().playabilityStatus)&&this.zQ(e);e=this.api.getPresentingPlayerType()===8&&!this.getVideoData().Kq;var r=this.api.getPresentingPlayerType()===8;g.cD(this.element,"ytp-offline-slate-premiere-trailer",e);g.cD(this.element,"ytp-offline-slate-hide-background",r)},uhN=function(e,a,r){if(a){var P=a.subtitleText!=null?g.yd(a.subtitleText):"";
r=r?r:a.mainText!=null?g.yd(a.mainText):"";var B,h,c,y;a=(y=(B=a.mainText)==null?void 0:(h=B.accessibility)==null?void 0:(c=h.accessibilityData)==null?void 0:c.label)!=null?y:r;e.update({mainText:r,subtitleText:P,label:a});g.cD(e.element,"ytp-offline-slate-single-text-line",!P);g.cD(e.B,"ytp-offline-slate-bar-hidden",!r&&!P)}},J$=function(e,a){var r=(0,g.Ov)();
this.trigger=e;this.S=a;this.B=r},BT5=function(e){g.Vn.call(this,e);
var a=this;this.D=!1;this.Y=0;this.C=!1;this.T=new g.vP(function(){K7M(a)},0);
this.S=this.heartbeatParams=null;this.L=!1;this.Z=new g.w9(1E3,6E4,1);this.sequenceNumber=0;this.offlineSlate=null;this.HW=new g.Rr(void 0);this.attestationResponse=Promise.resolve(void 0);this.N=Promise.resolve(void 0);this.utcOffsetMinutes=-(new H65).getTimezoneOffset();this.B=new g.Zc(this);g.x(this,this.T);g.x(this,this.B);eFa(this);asB(this);this.B.j(e,"heartbeatparams",this.RN);this.B.j(e,"presentingplayerstatechange",this.zI);this.B.j(e,"videoplayerreset",this.cF);this.B.j(e,g.SS("heartbeat"),
this.onCueRangeEnter);this.L&&this.S&&rLG(this,void 0,this.S);var r=new g.v_(DA(this,!0),0x7ffffffffffff,{priority:1,namespace:"heartbeat"}),P=new g.v_(0x8000000000000,0x8000000000000,{id:"stream_end",priority:1,namespace:"heartbeat"});e.Ji([r,P]);PwN(this)},PwN=function(e){var a=e.getVideoData();
!a.X("use_rta_for_player")&&a.oi&&(a=a.botguardData)&&g.XO(a,e.player.G())},hFG=function(e){var a,r;
return g.Y(function(P){if(P.T==1)return g.l(P,g.L5j(),2);if(!P.S)return e.sequenceNumber>=3?P.return({error:"ATTESTATION_ERROR_VM_INTERNAL_ERROR"}):P.return(void 0);a=e.getVideoData();r={};return P.return(g.lH4((r.cpn=a.clientPlaybackNonce,r.encryptedVideoId=a.videoId||"",r),1500))})},eFa=function(e){var a=e.getVideoData();
if(a.oi)if(a.X("use_rta_for_player"))e.attestationResponse=hFG(e);else if(a=new g.vl4(a),g.nt.isInitialized()||e.sequenceNumber>=3){var r=Promise,P=r.resolve,B=null;if(a.videoData.pS){var h=g.ROl(a);if(h){B={};var c={};h=h.split("&");h=g.Z(h);for(var y=h.next();!y.done;y=h.next())y=y.value.split("="),y.length===2&&(c[y[0]]=y[1]);c.r1a&&(B.webResponse=c.r1a);c.r1c&&(B.error=cLM[Number(c.r1c)]);B.challenge=a.videoData.pS}}e.attestationResponse=P.call(r,B||void 0)}},oca=function(e){var a=e.getVideoData();
if(!g.HE(e.getVideoData())||a.RJ)return!1;if(a.C){e=a.C.flavor==="playready"&&a.X("html5_innertube_heartbeats_for_playready");var r=a.C.flavor==="widevine"&&a.X("html5_innertube_heartbeats_for_widevine");a=g.nn(a.C)&&a.X("html5_innertube_heartbeats_for_fairplay");return!(e||r||a)}return!0},ncG=function(e){if(oca(e))return!!e.heartbeatParams;
var a=e.getVideoData();return!g.HE(e.getVideoData())||a.He||a.HC?!!a.heartbeatToken:!1},Vh=function(e,a){if(!e.T.isActive()&&e.D){var r=e.getVideoData();
if(ncG(e)||r.isLivePlayback){if(a===void 0)if(e.C)if(e.L)a=7500;else{var P;a=((P=e.heartbeatParams)==null?0:P.interval)?e.heartbeatParams.interval*1E3:e.getVideoData().zL||6E4}else a=1E3;e.T.start(a)}}},fsG=function(e,a,r){a.pC&&(r=g.EW(r,{internalipoverride:a.pC}));
var P={cpn:a.clientPlaybackNonce};a.contextParams&&(P.context_params=a.contextParams);a.Q2&&(P.kpt=a.Q2);r=g.EW(r,P);g.ge(r,{format:"RAW",method:"GET",timeout:3E4,onSuccess:function(B){if(!e.T.isActive()&&$v(e)){e.Z.reset();e.sequenceNumber++;B=B.responseText;var h=yLB(B);if(h){e.player.qF("onHeartbeat",h);var c=h.status==="ok"?h.stop_heartbeat?2:0:h.status==="stop"?1:h.status==="live_stream_offline"?0:-1}else c=(c=B.match(TTb))?c[1]==="0"?0:1:-1;X9a(e,void 0,h,B,c)}},
onError:function(B){$v(e)&&Qh(e,!0,"net-"+B.status)},
onTimeout:function(){$v(e)&&Qh(e,!0,"timeout")},
withCredentials:!0})},K7M=function(e){var a,r;
g.Y(function(P){a=e.player.G();r=e.getVideoData();if(!$v(e))return P.return();if(oca(e))return ALZ(e,a,r),P.Oo(0);eFa(e);return g.l(P,U1M(e,a,r),0)})},ALZ=function(e,a,r){var P;
if((P=e.heartbeatParams)!=null&&P.url){var B=g.EW(e.heartbeatParams.url,{request_id:g.OGq()});r.Lf&&(B=g.EW(B,{vvt:r.Lf}),r.mdxEnvironment&&(B=g.EW(B,{mdx_environment:r.mdxEnvironment})));g.$G(a,r.oauthToken).then(function(h){h&&(B=g.EW(B,{access_token:h}));fsG(e,r,B)})}},$v=function(e){var a=e.getVideoData();
return e.player.getPresentingPlayerType()===3||g.S(e.player.getPlayerStateObject(e.getPlayerType()),4)?!1:ncG(e)||a.isLivePlayback?!0:(WX(e),!1)},U1M=function(e,a,r){var P,B,h,c,y,T,X,f,A,U,C,G,O,d,W,V,L,z,q,M;
return g.Y(function(m){if(m.T==1)return P="player/heartbeat",h={videoId:r.videoId,sequenceNumber:e.sequenceNumber,heartbeatServerData:(B=e.oH)!=null?B:r.heartbeatServerData},e.N=e.attestationResponse,r.oi?g.l(m,e.N,3):m.Oo(2);m.T!=2&&(h.attestationResponse=m.S);c=g.Za(r);T=(y=c.client)!=null?y:{};T.utcOffsetMinutes=e.utcOffsetMinutes;h.context=c;h.cpn=r.clientPlaybackNonce;if(X=typeof Intl!=="undefined"?(new Intl.DateTimeFormat).resolvedOptions().timeZone:null)T.timeZone=X;f={heartbeatChecks:[]};
if(A=r.getPlayerResponse())r.heartbeatToken&&(h.heartbeatToken=r.heartbeatToken),(U=A.playabilityStatus)&&(C=U.liveStreamability)&&C.liveStreamabilityRenderer&&f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_LIVE_STREAM_STATUS");r.heartbeatToken&&f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_YPC");g.fm(a)&&(f.heartbeatChecks.push("HEARTBEAT_CHECK_TYPE_UNPLUGGED"),G=Cwa(e),O={},G!==null&&(O.clientPlayerPositionUtcMillis=G),W=(d=e.player.eO())==null?void 0:g.zh(d),L=((V=W)==null?void 0:V.freePreviewWatchedDuration)||
0,L>0&&(O.freePreviewWatchedDuration={seconds:""+L}),f.unpluggedParams=O);h.heartbeatRequestParams=f;r.isLivePlayback?(z=Cwa(e),z!==null&&(h.playbackState||(h.playbackState={}),h.playbackState.playbackPosition={utcTimeMillis:z})):a.X("enable_heartbeat_vod_playback_position")&&(q=G0G(e),q!==null&&(h.playbackState||(h.playbackState={}),h.playbackState.playbackPosition={streamTimeMillis:q}));e.player.publish("heartbeatRequest",h);M={timeout:3E4,onSuccess:function(cI){if(!e.T.isActive()&&$v(e)){var CL=
e.getVideoData(),nL=CL.oi&&e.N==null,y3;CL.oi=!((y3=cI.heartbeatAttestationConfig)==null||!y3.requiresAttestation)||nL;nL=cI.playabilityStatus;y3=JSON.stringify(nL)||"{}";cI.authenticationMismatch&&e.player.nf("authshear",{});var aT=-1;var $N=cI.playabilityStatus;$N&&(e.player.qF("onHeartbeat",$N),$N.status==="OK"?aT=cI.stopHeartbeat?2:0:$N.status==="UNPLAYABLE"?aT=1:$N.status==="LIVE_STREAM_OFFLINE"&&(aT=0));e.sequenceNumber&&aT===-1||e.Z.reset();e.sequenceNumber++;cI.heartbeatServerData&&(e.oH=
cI.heartbeatServerData);CL.nC=cI;($N=cI.playerCueRangeSet)&&g.bz(CL,$N);cI.playerCueRanges&&cI.playerCueRanges.length>0&&(CL.cueRanges=cI.playerCueRanges);var F4,ea;((F4=cI.progressBarConfig)==null?0:F4.progressBarStartPosition)&&((ea=cI.progressBarConfig)==null?0:ea.progressBarEndPosition)&&(CL.progressBarStartPosition=cI.progressBarConfig.progressBarStartPosition,CL.progressBarEndPosition=cI.progressBarConfig.progressBarEndPosition);CL.compositeLiveIngestionOffsetToken=cI.compositeLiveIngestionOffsetToken;
cI.compositeLiveStatusToken!==CL.compositeLiveStatusToken&&(CL.compositeLiveStatusToken=cI.compositeLiveStatusToken);CL.publish("dataupdated");X9a(e,cI,nL,y3,aT)}},
onError:function(cI){$v(e)&&Qh(e,!0,"net-"+cI.status)},
onTimeout:function(){$v(e)&&Qh(e,!0,"timeout")}};
g.$G(a,g.ok(r)).then(function(cI){cI&&(M.Py="Bearer "+cI);g.SA(e.HW,P,h,M)});
g.OO(m)})},X9a=function(e,a,r,P,B){B===-1?(r="decode "+g.$u(P,3),Qh(e,!1,r)):B===2?(WX(e),e.C=!0):(e.Y=0,e.T.stop(),B===1?(e.C=!1,r&&r.errorCode==="PLAYABILITY_ERROR_CODE_EMBARGOED"&&e.player.J4(!0),B="pe."+(r==null?void 0:r.errorCode)+";ps."+(r==null?void 0:r.status),e.player.Ex("heartbeat.stop",2,e.OU(P),B),g.BU("heartbeatActionPlayerHalted",Ec8(r)),(a==null?0:a.videoTransitionEndpoint)&&r&&(a=a.videoTransitionEndpoint,(P=g.H(a,g.g3))&&br8(e,P,r,{itct:a==null?void 0:a.clickTrackingParams}))):(e.C=
!0,P=0,e.L&&r&&(P=rLG(e,a,r),e.player.publish("livestatedata",r)),P?Vh(e,P):Vh(e)))},rLG=function(e,a,r){var P=r.liveStreamability&&r.liveStreamability.liveStreamabilityRenderer,B=!(!P||!(P.switchStreamsImmediately||P.transitionTiming&&P.transitionTiming==="STREAM_TRANSITION_TIMING_IMMEDIATELY"));
a=tOB(e,a,P);var h=e.getVideoData(),c=e.player.getPlayerStateObject(e.getPlayerType()),y=c.isPlaying()&&!g.FL(h)&&!e.player.isAtLiveHead(e.getPlayerType());if(h.G().UM()){var T,X=((T=e.player.rg())==null?void 0:T.vA())||{};X.status=r.status||"";X.dvr=""+ +y;X["switch"]=""+ +B;X.ended=""+ +!(!P||!P.displayEndscreen);e.player.nf("heartbeat",X)}T=e.player.X("always_cache_redirect_endpoint");if(y&&!B&&!T)return a;X=P&&P.streamTransitionEndpoint&&g.H(P.streamTransitionEndpoint,g.g3);var f=P&&P.transitionTiming;
if(f==="STREAM_TRANSITION_TIMING_AT_STREAM_END")e.getVideoData().transitionEndpointAtEndOfStream=X;else if(T&&!X&&e.getVideoData().transitionEndpointAtEndOfStream)e.getVideoData().transitionEndpointAtEndOfStream=void 0;else if(!T&&X&&br8(e,X,r))return a;if(y&&!B&&T||T&&X&&(f==="STREAM_TRANSITION_TIMING_IMMEDIATELY"||f==="STREAM_TRANSITION_TIMING_UNSPECIFIED")&&br8(e,X,r))return a;if(r.status.toUpperCase()==="OK"){B=P&&P.broadcastId;y=e.S&&e.S.liveStreamability&&e.S.liveStreamability.liveStreamabilityRenderer&&
e.S.liveStreamability.liveStreamabilityRenderer.broadcastId;T=B!==y&&B!=null;if(!g.St(h)||T){var A={video_id:h.videoId};h.BC&&(A.is_live_destination="1");A.disable_watch_next=!0;A.raw_watch_next_response=h.getWatchNextResponse();A.autonav_state=h.autonavState;A.oauth_token=h.oauthToken;A.hB=h.hB;h.Z&&(A.vss_credentials_token=h.Z,A.vss_credentials_token_type=h.H4);h.Lf&&(A.vvt=h.Lf);P=void 0;g.St(h)?T&&(P=new J$("broadcastIdChanged",y+","+B),e.Mh("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_BROADCAST_ID_CHANGED",
r)):(B&&(P=new J$("formatsReceived",""+B)),e.Mh("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_LIVE_STREAM_WENT_ONLINE",r));e.player.loadVideoByPlayerVars(A,void 0,void 0,void 0,P);return a}e.player.wy("heartbeat",e.getPlayerType())}P&&P.displayEndscreen&&(e.offlineSlate?(e=e.offlineSlate,e.D=!0,e.oD&&e.api.SP()):c.isBuffering()&&(h=((A=e.player.rg())==null?void 0:A.vA())||{},e.player.nf("hbse",h,!0),e.player.X("html5_report_eos")?e.player.SP(!0,"h"):e.player.SP(),e.player.qF("onLiveMediaEnded",
r)));return a},tOB=function(e,a,r){return e.player.X("web_player_use_heartbeat_poll_delay_ms")&&(e=Number(a==null?void 0:a.pollDelayMs))?e:(r=Number(r==null?void 0:r.pollDelayMs))?r:0},Qh=function(e,a,r){if(!e.T.isActive()){e.T.stop();
e.Y++;var P=a?"heartbeat.net":"heartbeat.servererror";var B=e.getVideoData();if(B.X4||a&&!g.HE(e.getVideoData())&&!ncG(e)&&B.isLivePlayback)B=!1;else{var h,c;((c=e.heartbeatParams)==null?0:c.retries)?h=e.heartbeatParams.retries:h=B.Co||5;B=e.Y>=h}B?(g.BU("heartbeatActionPlayerHalted",a?{enforcedPolicyToHaltOnNetworkFailure:!0}:Ec8()),(a=e.getVideoData())&&a.isLivePlayback?e.player.Ex(P,1,"Video playback interrupted. Please try again.",r):e.player.Ex(P,1,"Sorry, there was an error licensing this video.",
r)):(Vh(e,e.Z.getValue()),g.pe(e.Z))}},Ec8=function(e){var a={enforcedPolicyToHaltOnNetworkFailure:!1};
e&&(a.serializedServerContext=e.additionalLoggingData);return a},WX=function(e){e.Y=0;
e.T.stop();e.C=!1;e.sequenceNumber=0},asB=function(e){var a=e.getVideoData(),r=e.player.G();
if(a.isLivePlayback)if(g.gV(r.C)){e.L=!0;e.D=!0;if(!g.Uh(r)||g.fm(r))e.offlineSlate=new jJB(e.player),g.x(e,e.offlineSlate),g.MY(e.player,e.offlineSlate.element,4);(a=a.getPlayerResponse())&&a.playabilityStatus&&(e.S=a.playabilityStatus);var P;((P=e.S)==null?void 0:P.status)!=="UNPLAYABLE"&&(e.S?(P=tOB(e,void 0,e.S.liveStreamability&&e.S.liveStreamability.liveStreamabilityRenderer))?Vh(e,P):Vh(e,7500):Vh(e,DA(e,!0)))}else e.player.Ex("html5.unsupportedlive",2,"HTML5_NO_AVAILABLE_FORMATS_FALLBACK",
"nolive.1");else g.ZB(a.N,"heartbeat")&&e.player.wy("heartbeat",e.getPlayerType())},br8=function(e,a,r,P){var B=a&&a.videoId;
return B?(e.player.nY(B,Object.assign({},{autonav:"1"},P||{}),void 0,!0,!0,a,g.ok(e.getVideoData())),e.Mh("HEARTBEAT_ACTION_TRIGGER_IMMEDIATE","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT",r),!0):!1},Cwa=function(e){return(e=e.player.getProgressState(e.getPlayerType()).ingestionTime)&&isFinite(e)?""+Math.floor(e*1E3):null},G0G=function(e){return(e=e.player.getCurrentTime(e.getPlayerType()))&&isFinite(e)?""+Math.floor(e*1E3):null},DA=function(e,a){a=a===void 0?!1:a;
e=e.getVideoData();return e.X("html5_use_server_init_heartbeat_delay")?isNaN(e.zL)?15E3:e.zL:a?1E3:2E3},yLB=function(e){try{var a=JSON.parse(e);
return a!=null?a:void 0}catch(r){}},gc5={ERAS:["BC",
"AD"],ERANAMES:["Before Christ","Anno Domini"],NARROWMONTHS:"JFMAMJJASOND".split(""),STANDALONENARROWMONTHS:"JFMAMJJASOND".split(""),MONTHS:"January February March April May June July August September October November December".split(" "),STANDALONEMONTHS:"January February March April May June July August September October November December".split(" "),SHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),STANDALONESHORTMONTHS:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
WEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),STANDALONEWEEKDAYS:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),SHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),STANDALONESHORTWEEKDAYS:"Sun Mon Tue Wed Thu Fri Sat".split(" "),NARROWWEEKDAYS:"SMTWTFS".split(""),STANDALONENARROWWEEKDAYS:"SMTWTFS".split(""),SHORTQUARTERS:["Q1","Q2","Q3","Q4"],QUARTERS:["1st quarter","2nd quarter","3rd quarter","4th quarter"],AMPMS:["AM","PM"],DATEFORMATS:["EEEE, MMMM d, y",
"MMMM d, y","MMM d, y","M/d/yy"],TIMEFORMATS:["h:mm:ss\u202fa zzzz","h:mm:ss\u202fa z","h:mm:ss\u202fa","h:mm\u202fa"],DATETIMEFORMATS:["{1} 'at' {0}","{1} 'at' {0}","{1}, {0}","{1}, {0}"],FIRSTDAYOFWEEK:6,WEEKENDRANGE:[5,6],FIRSTWEEKCUTOFFDAY:5},Zrl=gc5;Zrl=gc5;
var cLM=["ATTESTATION_ERROR_UNKNOWN","ATTESTATION_ERROR_VM_NOT_INITIALIZED","ATTESTATION_ERROR_VM_NO_RESPONSE","ATTESTATION_ERROR_VM_TIMEOUT","ATTESTATION_ERROR_VM_INTERNAL_ERROR"],OrN={300:"STREAMING_DEVICES_QUOTA_PER_24H_EXCEEDED",301:"ALREADY_PINNED_ON_A_DEVICE",303:"STOPPED_BY_ANOTHER_PLAYBACK",304:"TOO_MANY_STREAMS_PER_USER",305:"TOO_MANY_STREAMS_PER_ENTITLEMENT",400:"VIDEO_NOT_FOUND",401:"GEO_FAILURE",402:"STREAMING_NOT_ALLOWED",403:"UNSUPPORTED_DEVICE",405:"VIDEO_FORBIDDEN",500:"PURCHASE_NOT_FOUND",
501:"RENTAL_EXPIRED",502:"PURCHASE_REFUNDED",5E3:"BAD_REQUEST",5001:"CGI_PARAMS_MISSING",5002:"CGI_PARAMS_MALFORMED",5100:"AUTHENTICATION_MISSING",5101:"AUTHENTICATION_MALFORMED",5102:"AUTHENTICATION_EXPIRED",5200:"CAST_TOKEN_MALFORMED",5201:"CAST_TOKEN_EXPIRED",5202:"CAST_TOKEN_FAILED",5203:"CAST_SESSION_VIDEO_MISMATCHED",5204:"CAST_SESSION_DEVICE_MISMATCHED",6E3:"INVALID_DRM_MESSAGE",7E3:"SERVER_ERROR",8E3:"RETRYABLE_ERROR"};g.E=H65.prototype;g.E.Hv=Zrl.FIRSTDAYOFWEEK;g.E.oX=Zrl.FIRSTWEEKCUTOFFDAY;
g.E.clone=function(){var e=new H65(this.date);e.Hv=this.Hv;e.oX=this.oX;return e};
g.E.getFullYear=function(){return this.date.getFullYear()};
g.E.getYear=function(){return this.getFullYear()};
g.E.getMonth=function(){return this.date.getMonth()};
g.E.getDate=function(){return this.date.getDate()};
g.E.getTime=function(){return this.date.getTime()};
g.E.getDay=function(){return this.date.getDay()};
g.E.getUTCFullYear=function(){return this.date.getUTCFullYear()};
g.E.getUTCMonth=function(){return this.date.getUTCMonth()};
g.E.getUTCDate=function(){return this.date.getUTCDate()};
g.E.getUTCDay=function(){return this.date.getDay()};
g.E.getUTCHours=function(){return this.date.getUTCHours()};
g.E.getUTCMinutes=function(){return this.date.getUTCMinutes()};
g.E.getTimezoneOffset=function(){return this.date.getTimezoneOffset()};
g.E.set=function(e){this.date=new Date(e.getFullYear(),e.getMonth(),e.getDate())};
g.E.setFullYear=function(e){this.date.setFullYear(e)};
g.E.setYear=function(e){this.setFullYear(e)};
g.E.setMonth=function(e){this.date.setMonth(e)};
g.E.setDate=function(e){this.date.setDate(e)};
g.E.setTime=function(e){this.date.setTime(e)};
g.E.setUTCFullYear=function(e){this.date.setUTCFullYear(e)};
g.E.setUTCMonth=function(e){this.date.setUTCMonth(e)};
g.E.setUTCDate=function(e){this.date.setUTCDate(e)};
g.E.add=function(e){if(e.years||e.months){var a=this.getMonth()+e.months+e.years*12,r=this.getYear()+Math.floor(a/12);a%=12;a<0&&(a+=12);a:{switch(a){case 1:var P=r%4!=0||r%100==0&&r%400!=0?28:29;break a;case 5:case 8:case 10:case 3:P=30;break a}P=31}P=Math.min(P,this.getDate());this.setDate(1);this.setFullYear(r);this.setMonth(a);this.setDate(P)}e.days&&(r=this.getYear(),a=r>=0&&r<=99?-1900:0,e=new Date((new Date(r,this.getMonth(),this.getDate(),12)).getTime()+e.days*864E5),this.setDate(1),this.setFullYear(e.getFullYear()+
a),this.setMonth(e.getMonth()),this.setDate(e.getDate()),ZA(this,e.getDate()))};
g.E.equals=function(e){return!(!e||this.getYear()!=e.getYear()||this.getMonth()!=e.getMonth()||this.getDate()!=e.getDate())};
g.E.toString=function(){var e=this.getFullYear(),a=e<0?"-":e>=1E4?"+":"";return[a+zS9(Math.abs(e),a?6:4),zS9(this.getMonth()+1,2),zS9(this.getDate(),2)].join("")+""};
g.E.valueOf=function(){return this.date.valueOf()};var k0G=new g.Zj("addUpcomingEventReminderEndpoint");var d19=new g.Zj("removeUpcomingEventReminderEndpoint");var JLG=new g.Zj("updateUpcomingEventReminderButtonStateCommand");var v3w=new g.Zj("upcomingEventReminderButtonRenderer"),Mea=new g.Zj("upcomingEventReminderButtonStateRenderer");g.b(OB,g.P8);
OB.prototype.updateMenuItems=function(){var e=this,a=qnw(this),r=0;r=0;for(var P={};r<a.length;P={eF:void 0},r++){var B=this.B[r];B||(B=new g.v({K:"div",U:"ytp-reminder-menu-item",J:{role:"menuitem",tabindex:"0"},V:[{K:"div",U:"ytp-reminder-menu-item-icon",S1:"{{icon}}"},{K:"div",U:"ytp-reminder-menu-item-label",S1:"{{text}}"}]}),P.eF=r,B.listen("click",function(c){return function(){var y=c.eF;e.XN();y=qnw(e)[y];e.publish("reminderMenuItemClicked",y.serviceEndpoint||y.command)}}(P)),B.Kf(this.items),
this.B[r]=B);
var h=a[r];P=null;switch(h.icon&&h.icon.iconType){case "NOTIFICATIONS":P=Nc8();break;case "NOTIFICATIONS_NONE":P=xfl();break;case "NOTIFICATIONS_ACTIVE":P=g.bv()}h=h.text?g.yd(h.text):"";B.update({icon:P,text:h})}for(;r<this.B.length;)this.B.pop().dispose();r===0?this.XN():this.Yh(this.S)};
OB.prototype.hide=function(){this.S&&this.S.removeAttribute("aria-haspopup");g.P8.prototype.hide.call(this)};
OB.prototype.show=function(){this.S&&this.S.setAttribute("aria-haspopup","true");g.P8.prototype.show.call(this)};
OB.prototype.RH=function(){g.Be(this.B);g.P8.prototype.RH.call(this)};g.b(kv,g.v);
kv.prototype.D=function(){if(this.toggleButtonRenderer){var e=this.toggleButtonRenderer;e.isToggled?this.B(e.toggledServiceEndpoint):this.B(e.defaultServiceEndpoint);e.isToggled=!e.isToggled;dD(this)}else if(this.upcomingEventReminderButtonRenderer)if(this.S&&this.S.oD)this.S.XN();else{var a=sJN(this);a&&this.B(a.serviceEndpoint||a.command);a=((e=g.H(a==null?void 0:a.command,g.f$))==null?void 0:e.commands)||[];a:{e=g.Z(a);for(var r=e.next();!r.done;r=e.next()){var P=a=void 0;if(r=(a=g.H(r.value,g.RGa))==
null?void 0:(P=a.popup)==null?void 0:P.menuPopupRenderer){e=r;break a}}e=void 0}this.S||(this.S=new OB(this.W,this.Z),this.S.Kf(this.element),g.x(this,this.S),this.S.subscribe("reminderMenuItemClicked",this.B,this));a=this.S;a.menuPopupRenderer=e;a.updateMenuItems()}};
kv.prototype.B=function(e){var a=g.H(e,k0G),r=g.H(e,d19);if(e&&(a||r)){if(a){var P=a;var B="notification/add_upcoming_event_reminder"}else r&&(P=r,B="notification/remove_upcoming_event_reminder");if(B&&P&&P.params)for(F7M(this,B,P.params),e=g.Z(P.commands||[]),a=e.next();!a.done;a=e.next())if((a=a.value)&&g.H(a,JLG)){this.T=g.H(a,JLG).state;dD(this);break}}};g.b(jJB,g.v);g.E=jJB.prototype;g.E.getPlayerType=function(){if(this.api.getPresentingPlayerType()===8)return 1};
g.E.getVideoData=function(){return this.api.getVideoData(this.getPlayerType())};
g.E.zQ=function(e){var a,r,P=e==null?void 0:(a=e.liveStreamability)==null?void 0:(r=a.liveStreamabilityRenderer)==null?void 0:r.offlineSlate;if(P){this.T=e;a=P.liveStreamOfflineSlateRenderer;a.canShowCountdown?this.HX():uhN(this,a);var B,h,c,y;if(r=e==null?void 0:(B=e.liveStreamability)==null?void 0:(h=B.liveStreamabilityRenderer)==null?void 0:(c=h.offlineSlate)==null?void 0:(y=c.liveStreamOfflineSlateRenderer)==null?void 0:y.thumbnail){B=0;h=null;c=r.thumbnails;for(y=0;y<c.length;y++)c[y].width>
B&&(B=c[y].width||0,h=c[y].url);h&&(this.background.style.backgroundImage="url("+h+")")}else this.background.style.backgroundImage="";a.actionButtons||a.reminderButton?(this.S||(this.S=new kv(this.api),this.S.Kf(this.BW("ytp-offline-slate-buttons")),g.x(this,this.S)),RSZ(this.S,a.actionButtons&&a.actionButtons[0],a.reminderButton)):this.S&&RSZ(this.S,null,null);this.T=e}else this.T=null;this.SA()};
g.E.SA=function(e){if(this.api.getPresentingPlayerType()===8)var a=!0;else{var r=this.api.getPlayerStateObject(),P=this.getVideoData();a=P.isLivePlayback&&(r.isBuffering()||g.S(r,2)||g.S(r,64));var B=P.autonavState===2&&g.S(r,2);r=r.isPlaying()&&!g.FL(P)&&!this.api.isAtLiveHead(void 0,!0);a=a&&!r&&!B}a&&this.T?this.oD?(e==null?0:g.TH(e,2))&&!this.getVideoData().Kq&&(g.BD(this.element,"ytp-offline-slate-collapsed"),this.L.stop(),g.BD(this.B,"ytp-offline-slate-bar-fade"),this.Z.start()):(this.show(),
this.L.start(),this.api.publish("offlineslatestatechange"),this.D&&this.api.SP()):this.oD&&(this.hide(),this.api.publish("offlineslatestatechange"))};
g.E.HX=function(){var e,a,r,P,B=(e=this.T)==null?void 0:(a=e.liveStreamability)==null?void 0:(r=a.liveStreamabilityRenderer)==null?void 0:(P=r.offlineSlate)==null?void 0:P.liveStreamOfflineSlateRenderer;B&&(e=Math.floor(g.f5()/1E3),a=B.canShowCountdown&&Number(B.scheduledStartTime),!a||a<=e?(uhN(this,B),this.countdownTimer.stop()):(uhN(this,B,g.tx(a-e)),g.sC(this.countdownTimer)))};
g.E.RH=function(){this.countdownTimer.dispose();this.countdownTimer=null;g.v.prototype.RH.call(this)};J$.prototype.T=function(e){return this.trigger&&e.trigger?this.trigger===e.trigger&&this.S===e.S:!1};
J$.prototype.isExpired=function(){return(0,g.Ov)()-this.B>6E4};
J$.prototype.toString=function(){return"heartbeat:"+this.trigger+":"+this.S};g.b(BT5,g.Vn);g.E=BT5.prototype;g.E.RH=function(){WX(this);this.player.Ai("heartbeat");g.Vn.prototype.RH.call(this)};
g.E.onCueRangeEnter=function(){this.D=!0;Vh(this,DA(this))};
g.E.RN=function(e){this.heartbeatParams=e;Vh(this,DA(this))};
g.E.zI=function(e){var a;this.player.getPresentingPlayerType()!==8&&((a=this.S)==null?void 0:a.status)!=="UNPLAYABLE"&&(g.S(e.state,2)||g.S(e.state,64)?(WX(this),this.L&&(this.D=!0,Vh(this,DA(this,!0)))):(g.S(e.state,1)||g.S(e.state,8))&&Vh(this,DA(this)))};
g.E.cF=function(){this.player.getPresentingPlayerType()!==3&&Vh(this,DA(this))};
g.E.getPlayerType=function(){if(this.player.getPresentingPlayerType()===8)return 1};
g.E.getVideoData=function(){return this.player.getVideoData(this.getPlayerType())};
g.E.FP=function(e){switch(e){case 4:case 3:return!1}return!0};
g.E.Mh=function(e,a,r){e={trigger:e,reason:a};r&&(e.serializedServerContext=r.additionalLoggingData);g.BU("heartbeatActionPlayerTransitioned",e)};
g.E.OU=function(e){var a="LICENSE",r=yLB(e);if(r)return r.reason||g.mG[a]||"";if(e=e.match(TTb))if(e=Number(e[1]))a=(a=OrN[e.toString()])?a:"LICENSE";return g.mG[a]||""};
g.E.r9=function(){return!!this.offlineSlate&&this.offlineSlate.oD};
var TTb=/^GLS\/1.0 (\d+) (\w+).*?\r\n\r\n([\S\s]*)$/;g.DD("heartbeat",BT5);})(_yt_player);
